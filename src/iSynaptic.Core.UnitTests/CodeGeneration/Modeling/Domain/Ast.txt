ast iSynaptic.CodeGeneration.Modeling.Domain
{
    contract INode(INode) { }

    contract INamespaceParent : INode { }
    contract INamespaceMember : INode { }
    
    contract IUsingsContainer
    {
        UsingStatementSyntax* UsingStatements;
    }

    contract ISymbol : INode
    {
        NameSyntax Name;
        NameSyntax FullName;
    }

    contract IType : ISymbol 
    {
        SimpleNameSyntax SimpleName;
        Boolean IsValueType;
    }

    node SyntaxTree("SyntaxTree") : INamespaceParent, IUsingsContainer, INode
    {
        UsingStatementSyntax* UsingStatements;
        NamespaceSyntax* Namespaces;
    }

    node NamespaceSyntax("Namespace", INamespaceParent) : INamespaceParent, INamespaceMember, IUsingsContainer, ISymbol
    {
        NameSyntax Name;

        UsingStatementSyntax* UsingStatements;
        INamespaceMember* Members;
    }

    node AggregateSyntax("Aggregate", NamespaceSyntax) : INamespaceMember, IType
    {
        SimpleNameSyntax SimpleName;
        NameSyntax? IdentifierType;
        NameSyntax? Base;

        AggregateEventSyntax* Events;
    }

    node AggregateEventSyntax("AggregateEvent", AggregateSyntax) : IType
    {
        SimpleNameSyntax SimpleName;
        AggregateEventPropertySyntax* Properties;
    }

    node AggregateEventPropertySyntax("AggregateEventProperty", AggregateEventSyntax) : ISymbol
    {
        SimpleNameSyntax SimpleName;
        TypeReferenceSyntax Type;
    }

    node ValueSyntax("Value", NamespaceSyntax) : INamespaceMember, IType
    {
        Boolean IsAbstract;
        SimpleNameSyntax SimpleName;
        NameSyntax? Base;

        ValuePropertySyntax* Properties;
    }

    node ValuePropertySyntax("ValueProperty", ValueSyntax) : ISymbol
    {
        SimpleNameSyntax SimpleName;
        TypeReferenceSyntax Type;
    }

    node UsingStatementSyntax("UsingStatement")
    {
        NameSyntax Namespace;
    }

    abstract node NameSyntax("Name")
    {
    }

    abstract node SimpleNameSyntax("SimpleName") : NameSyntax
    {
        String Identifier;
    }

    node IdentifierNameSyntax("IdentifierName") : SimpleNameSyntax { }

    node GenericNameSyntax("GenericName") : SimpleNameSyntax
    {
        NameSyntax* TypeArguments;
    }

    node QualifiedNameSyntax("QualifiedName") : NameSyntax
    {
        NameSyntax Left;
        SimpleNameSyntax Right ;
    }
}